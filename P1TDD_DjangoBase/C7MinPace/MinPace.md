# 小步走，上高山

> 一上一上又一上，一上上到高山上。举头红日白云低，四海五湖皆一望。——据说是唐寅


## 必要时做少量的设计

先在FT找找，哪里要求不同人要不同清单：

### *functional_tests/tests.py*

```python
        # 叶秋想知道这个网站是否会保存她的清单
        # 她看到网站为她生成了一个唯一的URL
        # 而且页面中有文字介绍这个功能
        self.fail('Finish the test!')

        # 她访问那个URL，发现她的待办事项列表还在

        # 她很满意，就去玩了
```

顺着这个思路，要为每个用户生成一个独特的URL，能且只能访问自己的清单。

### 不要先做大量的设计

TDD和敏捷开发联系紧密。后者反对**预先做大量设计*的做法——“预先”阶段花在收集需求和在纸上规划的时间太长了。后者还认为，在实践中解决问题比理论分析要学得更多。

根据这一理念，需要将**最简可用的应用**放出来，根据实际使用中得到的反馈逐步向前推进设计。

不是说不用思考，一直做，收到反馈又做。偶尔还是要思考的，接下来就来分析一下，怎么做出一个最简清单应用：

1. 每个用户都要保存自己的清单，那至少要一个；
2. 清单由多行文字组成，那主要组成就是文字；
3. 要保存清单，并多次访问。那就要为每个用户生成一个唯一URL，指向他们的清单。（或许还需要自动识别用户？）、

### YAGNI

一旦你冒出很多念头，并想把它们加到最简设计上，要懂得告诉自己'You ain't gonna need it'。以减少复杂度（真的，很多时候，你不需要那些功能）

### REST(representational state transfer)

MVC中，我们会用Model了，视图和控制器呢？

先来看看大家是怎么处理URL的问题吧：REST这一设计方式建议：`/lists/<list identifier>/`。这种URL也正好满足需求——访问某个清单，就请求相关identifier的URL就行了。

还有几种操作需要考虑：

1. 新建清单，想`/lists/new`发送POST请求；
2. 向已有清单添加一个新事项，可以向`/lists/<list identifier>/add_item`发送POST请求。（虽然REST建议这里用PUT请求，但是标准HTML表单无法发送PUT请求）

故，本章的待办清单更新如下：

- 调整模型，关联用户、清单与事项
- `/lists/<list identifier>/`
- 新建清单所用URL（POST请求）
- 添加新事项所用URL（已有清单，POST请求）

## 使用TDD实现新设计

不太懂呢？？？也许要回去读一读？

## 确保出现回归测试

